@model List<IK.ENTITIES.Models.Employee>

@{
	ViewData["Title"] = "Çalışanlar";
	Layout = "~/Views/Shared/_AreaLayout.cshtml";
}

<h2 class="mb-3">Çalışan Listesi</h2>

<a asp-area="Admin" asp-controller="Employee" asp-action="Create" class="btn btn-primary mb-3">
	Yeni Çalışan Ekle
</a>

<a asp-area="Admin" asp-controller="Employee" asp-action="Passives"
   class="btn btn-secondary mb-3">
	Pasif Çalışanlar
</a>

<table class="table table-bordered table-striped">
	<thead>
		<tr>
			<th>Ad Soyad</th>
			<th>Email</th>
			<th>Departman</th>
			<th>Pozisyon</th>
			<th>Şube</th>
			<th>İşlemler</th>
		</tr>
	</thead>
	<tbody>
		@foreach (IK.ENTITIES.Models.Employee emp in Model)
		{
			<tr>
				<td>@emp.FirstName @emp.LastName</td>
				<td>@emp.Email</td>
				<td>@emp.Departmant?.DepartmantName</td>
				<td>@emp.Position?.PositionName</td>
				<td>@emp.Branch?.BranchName</td>
				<td>
					<a asp-area="Admin" asp-controller="Employee" asp-action="Update" asp-route-id="@emp.Id"
					   class="btn btn-warning btn-sm">Güncelle</a>

					<a asp-area="Admin" asp-controller="Employee" asp-action="Pacify" asp-route-id="@emp.Id"
					   class="btn btn-danger btn-sm" onclick="return confirm('Bu çalışan pasife alınacak. Emin misiniz?')">Pasife Çek</a>
				</td>
				
			</tr>
		}
	</tbody>
</table>
